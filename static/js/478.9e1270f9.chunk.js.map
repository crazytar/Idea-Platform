{"version":3,"file":"static/js/478.9e1270f9.chunk.js","mappings":"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","sources":["lib/checkout-schema.ts","components/ui/title.tsx","components/ui/white-block.tsx","components/ui/input.tsx","components/ui/form-input.tsx","components/ui/checkout-item-details.tsx","pages/Checkout.tsx"],"sourcesContent":["import { z } from \"zod\";\r\nconst phoneRegex = new RegExp(\r\n    /^([+]?[\\s0-9]+)?(\\d{3}|[(]?[0-9]+[)])?([-]?[\\s]?[0-9])+$/\r\n);\r\nexport const checkoutSchema = z.object({\r\n    firstName: z.string().min(2, { message: \"First name must be at least 2 characters\" }),\r\n    lastName: z.string().min(2, { message: \"First name must be at least 2 characters\" }),\r\n    email: z.string().email({ message: \"Invalid email address\" }),\r\n    phone: z.string().regex(phoneRegex, 'Invalid Number!'),\r\n    passport: z.string().min(10, { message: \"Passport number must be at least 10 characters\" }),\r\n    comment: z.string().optional()\r\n})\r\nexport type CheckoutSchemaT = z.infer<typeof checkoutSchema>","import clsx from 'clsx';\nimport React from 'react';\n\ntype TitleSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl';\n\ninterface Props {\n  size?: TitleSize;\n  className?: string;\n  text: string;\n}\n\nexport const Title: React.FC<Props> = ({ text, size = 'sm', className }) => {\n  const mapTagBySize = {\n    xs: 'h5',\n    sm: 'h4',\n    md: 'h3',\n    lg: 'h2',\n    xl: 'h1',\n    '2xl': 'h1',\n  } as const;\n\n  const mapClassNameBySize = {\n    xs: 'text-[16px]',\n    sm: 'text-[22px]',\n    md: 'text-[26px]',\n    lg: 'text-[32px]',\n    xl: 'text-[40px]',\n    '2xl': 'text-[48px]',\n  } as const;\n\n  return React.createElement(\n    mapTagBySize[size],\n    { className: clsx(mapClassNameBySize[size], className) },\n    text,\n  );\n};\n","import React from 'react';\r\nimport { Title } from './title';\r\nimport { cn } from '@/lib/utils';\r\n\r\n\r\ninterface Props {\r\n    title?: string;\r\n    endAdornment?: React.ReactNode; //right from title block\r\n    className?: string;\r\n    contentClassName?: string;\r\n}\r\n/* Block with children wrapped by white background */\r\nexport const WhiteBlock: React.FC<React.PropsWithChildren<Props>> = ({\r\n    title,\r\n    endAdornment,\r\n    className,\r\n    contentClassName,\r\n    children,\r\n}) => {\r\n    return (\r\n        <div className={cn('bg-muted rounded-3xl', className)}>\r\n            {title && (\r\n                <div className=\"flex items-center justify-between p-5 px-7 border-b border-gray-100\">\r\n                    <Title text={title} size=\"sm\" className=\"font-bold\" />\r\n                    {endAdornment}\r\n                </div>\r\n            )}\r\n\r\n            <div className={cn('px-5 py-4', contentClassName)}>{children}</div>\r\n        </div>\r\n    );\r\n};","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","import React, { FC, useState } from 'react'\r\nimport { X } from 'lucide-react';\r\nimport { useFormContext } from 'react-hook-form';\r\nimport { Input } from './input';\r\n\r\ninterface FormInputProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n    required?: boolean;\r\n    name: string;\r\n    label?: string;\r\n    className?: string;\r\n}\r\n\r\nexport const FormInput: FC<FormInputProps> = ({ className, name, label, required, type, ...props }) => {\r\n    const {\r\n        formState: { errors },\r\n        register,\r\n        watch,\r\n        setValue,\r\n    } = useFormContext();\r\n    const value = watch(name);\r\n    const error = errors[name]?.message;\r\n    return (\r\n        <div className={className}>\r\n            {label && <p className='font-medium mb-2'>\r\n                {label} {required && <span className='text-red-500'>*</span>}   </p>}\r\n            <div className=\"relative\">\r\n\r\n                <Input className='h-12 text-sm' type='text' {...register(name)} {...props} />\r\n                {value &&\r\n                    <div className=\"absolute right-4 top-1/2 \">\r\n\r\n                        <button /* X button */\r\n                            onClick={() => setValue(name, '')}\r\n                            className=\r\n                            '-translate-y-1/2 opacity-30 hover:opacity-100 cursor-pointer'>\r\n                            <X className=\"h-5 w-5\" />\r\n                        </button>\r\n\r\n                    </div>\r\n\r\n                }\r\n            </div>\r\n            {error && <p className='text-destructive text-sm'> {error as string}</p>}\r\n        </div>\r\n    )\r\n}\r\n","import { cn } from \"@/lib/utils\";\r\n\r\ninterface Props {\r\n    title?: React.ReactNode; //JSX\r\n    value?: React.ReactNode;\r\n    className?: string;\r\n}\r\n\r\nexport const CheckoutItemDetails: React.FC<Props> = ({ title, value, className }) => {\r\n    return (\r\n        <div className={cn('flex my-4', className)}>\r\n            <span className=\"flex flex-1 text-lg text-neutral-500\">\r\n                {title}\r\n                <div className=\"flex-1 border-b border-dashed border-b-neutral-200 relative -top-1 mx-2\" />\r\n            </span>\r\n\r\n            <span className=\"font-bold text-lg\">{value}</span>\r\n        </div>\r\n    );\r\n};","import { AppContext } from '@/components/providers';\r\nimport React, { FC } from 'react'\r\nimport { FormProvider, useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { checkoutSchema, CheckoutSchemaT } from '@/lib/checkout-schema';\r\nimport { Container } from '@/components/ui/container';\r\nimport { Title } from '@/components/ui/title';\r\nimport { WhiteBlock } from '@/components/ui/white-block';\r\nimport { FormInput } from '@/components/ui/form-input';\r\nimport { CheckoutItemDetails } from '@/components/ui/checkout-item-details';\r\nimport { ArrowRight, Package, Percent, Truck } from \"lucide-react\";\r\nimport { Button } from '@/components/ui/shadcn/button';\r\nimport { TicketCart } from '@/components/ui/ticket-cart';\r\nimport toast from 'react-hot-toast';\r\ninterface CheckoutProps {\r\n    className?: string;\r\n}\r\n\r\nconst Checkout: FC<CheckoutProps> = ({ className }) => {\r\n    const { ticket } = React.useContext(AppContext);\r\n    const defaultValues = {} as CheckoutSchemaT;\r\n\r\n\r\n\r\n    const form = useForm<CheckoutSchemaT>({\r\n        resolver: zodResolver(checkoutSchema), //TODO use server side validation  with Server Actions\r\n        defaultValues,\r\n    });\r\n    if (!ticket) return null;\r\n    // const onSubmit = async (data: CheckoutSchemaT) => {\r\n    async function onSubmit(data: CheckoutSchemaT) {\r\n        toast.success('Заказ успешно оформлен', {\r\n            duration: 3000,\r\n            position: 'top-center',\r\n        });\r\n        setTimeout(() => {\r\n            window.location.href = '/';\r\n        }, 3000)\r\n\r\n    }\r\n    return (\r\n        <Container className=\"mt-10\">\r\n            <Title text=\"Оформление заказа\" size=\"xl\" />\r\n            <FormProvider {...form}>\r\n                <form onSubmit={form.handleSubmit(onSubmit)}>\r\n                    <div className=\"flex flex-wrap gap-4 sm:gap-10\">\r\n                        {/* Левая часть */}\r\n                        <div className=\"flex flex-col gap-4 sm:gap-10  flex-1\">\r\n                            <WhiteBlock title=\"Детали перелёта\" className=\"flex-1\">\r\n                                <TicketCart ticket={ticket} currency=\"RUB\" withButton={false} />\r\n                            </WhiteBlock>\r\n                            <WhiteBlock title=\"Персональные данные\" className=\" flex-1\">\r\n                                <div className=\"grid grid-cols-2 gap-4\" >\r\n                                    <FormInput name=\"firstName\" placeholder=\"Имя\" />\r\n                                    <FormInput name=\"lastName\" placeholder=\"Фамилия\" />\r\n                                    <FormInput name=\"email\" placeholder=\"Email\" />\r\n                                    <FormInput name=\"phone\" placeholder=\"Телефон\" required={true} />\r\n                                    <FormInput name=\"passport\" placeholder=\"Номер пасспорта\" required={true} />\r\n                                </div>\r\n                            </WhiteBlock>\r\n                        </div>\r\n                        {/* Правая часть */}\r\n                        <div className=\"w-full lg:max-w-[450px]\">\r\n                            <WhiteBlock className='p-6 top-4'>\r\n                                <div className=\"flex flex-col gap-1\">\r\n                                    <span className=\"text-xl\">Итого:</span>\r\n                                    <span className=\"text-4xl font-extrabold\">{`${(ticket.price) + 6000} ₽`}</span>\r\n                                </div>\r\n                                <CheckoutItemDetails\r\n                                    title={\r\n                                        <div className=\"flex items-center\">\r\n                                            <Package size={18} className=\"mr-2 text-gray-400\" />\r\n                                            Стоимость билета:\r\n                                        </div>\r\n                                    }\r\n                                    value={`${ticket.price} ₽`}\r\n                                />\r\n                                <CheckoutItemDetails\r\n                                    title={\r\n                                        <div className=\"flex items-center\">\r\n                                            <Truck size={18} className=\"mr-2 text-gray-400\" />\r\n                                            Топливный сбор:\r\n                                        </div>\r\n                                    }\r\n                                    value={5000 + ' ₽'}\r\n                                />\r\n                                <CheckoutItemDetails\r\n                                    title={\r\n                                        <div className=\"flex items-center\">\r\n                                            <Percent size={18} className=\"mr-2 text-gray-400\" />\r\n                                            Дополнительные услуги:\r\n                                        </div>\r\n                                    }\r\n                                    value={1000 + ' ₽'}\r\n                                />\r\n                                <Button\r\n                                    // loading={loading}\r\n                                    type=\"submit\"\r\n                                    className=\"w-full h-14 rounded-2xl mt-6 text-base font-bold\">\r\n                                    Оформить заказ\r\n                                    <ArrowRight className=\"w-5 ml-2\" />\r\n                                </Button>\r\n                            </WhiteBlock>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </FormProvider>\r\n        </Container>\r\n    )\r\n}\r\nexport default Checkout;\r\n"],"names":["phoneRegex","RegExp","checkoutSchema","z","object","firstName","string","min","message","lastName","email","phone","regex","passport","comment","optional","Title","_ref","text","size","className","React","xs","sm","md","lg","xl","clsx","WhiteBlock","title","endAdornment","contentClassName","children","_jsxs","cn","_jsx","Input","ref","type","props","_objectWithoutProperties","_excluded","_objectSpread","displayName","FormInput","_errors$name","name","label","required","formState","errors","register","watch","setValue","useFormContext","value","error","onClick","X","CheckoutItemDetails","ticket","AppContext","form","useForm","resolver","zodResolver","defaultValues","Container","FormProvider","onSubmit","handleSubmit","async","data","toast","success","duration","position","setTimeout","window","location","href","TicketCart","currency","withButton","placeholder","concat","price","Package","Truck","Percent","Button","ArrowRight"],"sourceRoot":""}